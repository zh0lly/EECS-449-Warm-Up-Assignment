{"version":3,"sources":["StreamlitVisGraph.tsx","index.tsx"],"names":["StreamlitVisGraph","render","graph","JSON","parse","props","args","nodes","slice","i","length","title","div","htmlTitle","options","events","selectNode","event","Streamlit","setComponentValue","doubleClick","console","log","link","lookup_node","mynodes","node","id","lookup_node_id","innerHTML","window","open","getNetwork","network","html","container","document","createElement","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","getElementById"],"mappings":"sQASMA,E,4MAEGC,OAAS,WAad,IAJA,IAAIC,EAAQC,KAAKC,MAAM,EAAKC,MAAMC,KAAX,MAEnBC,EAAQL,EAAMK,MAAMC,QAEfC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,IAC7BF,EAAME,GAAGE,QACVJ,EAAME,GAAGG,IAAM,EAAKC,UAAUN,EAAME,GAAGE,QAG3C,IAAMG,EAAUX,KAAKC,MAAM,EAAKC,MAAMC,KAAX,QAErBS,EAAS,CAEbC,WAAY,SAACC,GACXC,YAAUC,kBAAkBF,EAAMV,MAAM,KAG1Ca,YAAa,SAACH,GACZI,QAAQC,IAAIL,EAAMV,OAElB,IACIgB,EA5BR,SAAwBC,EAAaC,GAAS,IAAD,gBAC1BA,GAD0B,IAC3C,2BAAyB,CAAC,IAAjBC,EAAgB,QACrB,GAAIA,EAAKC,KAAOH,EACZ,OAAOE,GAH4B,+BA2BvBE,CAAeX,EAAMV,MAAM,GAAIA,GAC1BK,IAAIiB,UACxBN,GACDO,OAAOC,KAAKR,KAIlB,OACE,8BAEA,kBAAC,IAAD,CACArB,MAAOA,EACPY,QAASA,EACTC,OAAQA,EACRiB,WAAY,SAACC,S,EAQTpB,UAAY,SAACqB,GACnB,IAAMC,EAAYC,SAASC,cAAc,OAEzC,OADAF,EAAUN,UAAYK,EACfC,G,yBAxDqBG,0BA4DjBC,oCAAwBvC,GC/DvCwC,IAASvC,OACP,kBAAC,IAAMwC,WAAP,KACE,kBAAC,oBAAD,KACE,kBAAC,EAAD,QAGJL,SAASM,eAAe,W","file":"static/js/main.df689717.chunk.js","sourcesContent":["import {\n  Streamlit,\n  StreamlitComponentBase,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, { ReactNode } from \"react\"\nimport VisGraph from 'react-vis-graph-wrapper';\n\n\nclass StreamlitVisGraph extends StreamlitComponentBase {\n\n  public render = (): ReactNode => {\n\n    function lookup_node_id(lookup_node, mynodes){\n      for (let node of mynodes){\n          if (node.id === lookup_node){\n              return node;\n          }\n    }}\n\n    var graph = JSON.parse(this.props.args[\"data\"]);\n    \n    var nodes = graph.nodes.slice();\n\n    for (let i = 0; i < nodes.length; i++) {\n      if(nodes[i].title)\n        nodes[i].div = this.htmlTitle(nodes[i].title);\n    }\n  \n    const options = JSON.parse(this.props.args[\"config\"]);\n\n    const events = {\n\n      selectNode: (event:any) => {\n        Streamlit.setComponentValue(event.nodes[0]);\n      },\n\n      doubleClick: (event:any) => {\n        console.log(event.nodes);\n        // let link = nodes;\n        let lookup_node = lookup_node_id(event.nodes[0], nodes);\n        let link = lookup_node.div.innerHTML;\n        if(link){\n          window.open(link);\n        }\n      }\n    };\n    return (\n      <span>\n    \n      <VisGraph\n      graph={graph}\n      options={options}\n      events={events}\n      getNetwork={(network: any) => {\n        //  if you want access to vis.js network api you can set the state in a parent component using this property\n        //console.log(network);\n      }}/>\n      </span>\n    )\n  }\n\n  private htmlTitle = (html):any => {   \n    const container = document.createElement(\"div\");\n    container.innerHTML = html;\n    return container;\n  }\n}\n\nexport default withStreamlitConnection(StreamlitVisGraph)\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { StreamlitProvider } from \"streamlit-component-lib-react-hooks\"\nimport StreamlitVisGraph from \"./StreamlitVisGraph\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StreamlitProvider>\n      <StreamlitVisGraph/>\n    </StreamlitProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}